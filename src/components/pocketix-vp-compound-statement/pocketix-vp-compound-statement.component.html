<pocketix-vp-statement
    [title]="language.stmt[stmt.name]?.label ?? stmt.name"
    [icon]="(correctPos) ? (language.stmt[stmt.name]?.icon ?? defaultStmtLanguage.icon) : language.err.icon"
    [color]="(correctPos) ? (language.stmt[stmt.name]?.color ?? defaultStmtLanguage.color) : language.err.color"
    [backgroundColor]="(correctPos) ? (updating ? '#00AA00' : (language.stmt[stmt.name]?.backgroundColor ?? defaultStmtLanguage.backgroundColor)) : language.err.backgroundColor"
    [error]="(correctPos) ? undefined : 'Wrong position!'"
    (onUp)="up()"
    (onDown)="down()"
    (onDelete)="delete()"
    (onUpdate)="update()">
    <div header>
        <ng-template [ngIf]="language.stmt[stmt.name]?.extensions?.enableCondition">
            <div class="condition">
                <pocketix-vp-expression class="inputexpr"
                    [value]="stmt.condition"
                    [language]="language"
                    (onValueChanged)="onInputChange($event)">
                </pocketix-vp-expression>
            </div>
        </ng-template>
    </div>
    <div body>
        <pocketix-vp-block
            [block]="stmt.block"
            [language]="language"
            [parent]="stmt"
            [level]="level+1"
            (onUpdate)="update()">
        </pocketix-vp-block>
    </div>
</pocketix-vp-statement>